# stc15_asm4macosx
## 概述
本项目记录了我在用Mac OS X开发嵌入式程序的过程，为诸位使用Mac平台但找不到开发51程序方法的人指明一条道路。
## 更新进度
2019.07.16  创建工程
2019.07.16  更新开发环境的安装方式和使用汇编语言进行开发的方法
## 安装开发环境
1. 安装Home Brew，如果已经安装，则跳过此步骤
2. 安装sdcc，这一步是安装编译工具链
3. 安装stcgal，这一步是安装烧录工具
## 在Mac OS X下使用汇编语言进行开发
以下是步骤：
1. 编写汇编程序。与Keil开发的A51汇编器语法有很大的区别，具体请参照本仓库中的template.asm所提供的模版
2. 编写链接文件以指定程序装载位置，具体请参照本仓库中的template.lk所提供的模版
3. 使用指令sdas8051 -l -o -s template.asm 以得到待链接的文件template.rel
4. 使用指令sdld -f template.lk 以得到待烧写文件template.ihx
5. 使用指令stcgal template.ihx -P stc15 -p /dev/<你的串口地址> 来进行烧录，若使用CH340/CH341芯片进行USB转串口，则应当是默认免驱的，其他芯片请移步制造商官网下载Mac驱动，如果没有Mac驱动，则说明你需要更换USB转串口芯片。
6. 复位一次后开始烧写，烧写完毕后单片机即会从0x0000处开始执行程序。
